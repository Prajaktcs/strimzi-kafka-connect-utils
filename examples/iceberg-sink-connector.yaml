# Apache Iceberg Sink Connector Example
# This connector writes Kafka topics to Iceberg tables in object storage

name: iceberg-sink-connector
connector.class: org.apache.iceberg.connect.IcebergSinkConnector
tasks.max: 1

# Topics to consume
topics: lakehouse.public.users,lakehouse.public.orders

# Iceberg catalog configuration
iceberg.catalog.type: hadoop
iceberg.catalog.warehouse: s3a://warehouse/iceberg

# S3 storage configuration
iceberg.catalog.s3.endpoint: http://garage:3900
iceberg.catalog.s3.access-key-id: YOUR_ACCESS_KEY
iceberg.catalog.s3.secret-access-key: YOUR_SECRET_KEY
iceberg.catalog.s3.path-style-access: true

# Table auto-creation
iceberg.tables.auto-create-enabled: true
iceberg.tables.evolve-schema-enabled: true

# Commit configuration
iceberg.tables.commit-interval-ms: 60000
iceberg.tables.commit-timeout-ms: 120000
